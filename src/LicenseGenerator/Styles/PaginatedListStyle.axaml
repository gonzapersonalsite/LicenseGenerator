<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="using:LicenseGenerator.Views.Controls"
        xmlns:conv="using:LicenseGenerator.Converters">
  <Design.PreviewWith>
    <controls:PaginatedList Width="400" Height="200" CurrentPage="1" TotalCount="50"/>
  </Design.PreviewWith>

  <Styles.Resources>
      <conv:LocalizationFormatConverter x:Key="LocalizationFormatConverter"/>
  </Styles.Resources>

  <Style Selector="controls|PaginatedList">
    <Setter Property="Template">
      <ControlTemplate>
        <Grid RowDefinitions="*, Auto">
          <!-- Content -->
          <ContentPresenter Grid.Row="0" 
                             Content="{TemplateBinding Content}"
                             ContentTemplate="{TemplateBinding ContentTemplate}"
                             Padding="{TemplateBinding Padding}"/>
          
          <!-- Paging Controls -->
          <Border Grid.Row="1" 
                   Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}" 
                   Padding="5">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10">
              
              <!-- Page Size Selector -->
              <TextBlock Text="{DynamicResource PaginatedRows}" VerticalAlignment="Center" FontSize="{DynamicResource FontSizeSmall}" Foreground="#7F8C8D"/>
              <ComboBox ItemsSource="{Binding PageSizeOptions, RelativeSource={RelativeSource TemplatedParent}}"
                        SelectedItem="{Binding PageSize, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                        MinWidth="60"
                        VerticalAlignment="Center"/>
              
              <Rectangle Width="1" Height="20" Fill="Gray" Margin="10,0"/>

              <TextBlock VerticalAlignment="Center" FontSize="{DynamicResource FontSizeSmall}">
                  <Run Text="{DynamicResource PaginatedTotal}"/>
                  <Run Text=" "/>
                  <Run Text="{Binding TotalCount, RelativeSource={RelativeSource TemplatedParent}}"/>
              </TextBlock>
              
              <Button Command="{TemplateBinding PreviousPageCommand}" Content="&lt;"/>
              
              <TextBlock VerticalAlignment="Center" FontSize="{DynamicResource FontSizeSmall}">
                  <TextBlock.Text>
                      <MultiBinding Converter="{StaticResource LocalizationFormatConverter}">
                          <Binding Source="PaginatedPageOf"/>
                          <Binding Path="DisplayCurrentPage" RelativeSource="{RelativeSource TemplatedParent}"/>
                          <Binding Path="TotalPages" RelativeSource="{RelativeSource TemplatedParent}"/>
                      </MultiBinding>
                  </TextBlock.Text>
              </TextBlock>
              
              <Button Command="{TemplateBinding NextPageCommand}" Content="&gt;"/>
            </StackPanel>
          </Border>
        </Grid>
      </ControlTemplate>
    </Setter>
  </Style>
</Styles>
